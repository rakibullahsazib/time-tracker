import{d as M,r as n,c as o,n as _,a as C,t as p,b as h,e as m,f as i,w as N,o as c,u as $,g as L,h as T}from"./index.3e1d6989.js";import{_ as E,c as S,a as V}from"./Button.vue_vue_type_script_setup_true_lang.b2c33c04.js";const q={class:"relative transition-300"},B=["for"],U={key:0},A=["type","id","placeholder","value"],F=["title"],b=M({__name:"TextInput",props:{id:null,type:null,label:null,placeholder:null,errorMessage:null,initialValue:null,charLimit:null,required:{type:Boolean}},emits:["inputChange"],setup(e,{emit:u}){const l=e,a=n(l.initialValue||""),s=d=>{console.log("input changed");const r=d.target;a.value=S(r.value,l.charLimit),r.value=a.value,u("inputChange",a.value.trimEnd())};return(d,r)=>(c(),o("div",q,[e.label?(c(),o("label",{key:0,for:e.id,class:_(["block transition-300",[e.errorMessage?"text-warning-600":"text-gray-500"]])},[C(p(e.label)+" ",1),e.required?(c(),o("span",U,"*")):h("",!0)],10,B)):h("",!0),m("input",{type:e.type||"text",id:e.id,placeholder:e.placeholder,class:_(["mt-1 px-4 py-3 relative block w-full bg-white bg-opacity-0 text-sm border transition-colors duration-300 focus:outline-none rounded",e.errorMessage?"text-warning-600 border-warning-600":"text-gray-600 border-gray-400"]),value:a.value,onInput:s},null,42,A),i(E,{name:"fade"},{default:N(()=>[e.errorMessage?(c(),o("p",{key:0,class:"absolute w-full top-full mt-1 text-xs text-center text-red truncate pr-6 text-warning-700",title:e.errorMessage},p(e.errorMessage),9,F)):h("",!0)]),_:1})]))}}),W=(e,u=500)=>{let l=0;return(...s)=>{clearTimeout(l),l=setTimeout(()=>e(...s),u)}},z=e=>/^([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22))*\x40([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d))*$/.test(e),D={class:"p-4 w-full h-screen flex-center flex-col"},H=m("h2",{class:"text-lg lg:text-2xl font-semibold"}," Welcome to ",-1),P=m("h1",{class:"mt-4 text-3xl lg:text-6xl font-bold text-center"}," Time Tracker ",-1),R=["onSubmit"],j={class:"relative"},G=["title"],Q=M({__name:"Welcome",setup(e){const u=T(),l=$(),a=n(""),s=n(""),d=t=>{x.value="",s.value="",t||(s.value="This field can not be empty"),a.value=t},r=n(""),f=n(""),w=t=>{x.value="",f.value="",t||(f.value="This field can not be empty"),r.value=t},g=n(""),v=n(""),y=t=>{x.value="",v.value="",k(t)},k=W(t=>{if(!z(t)){v.value="Please provide a valid email address";return}g.value=t}),x=n(""),I=()=>{var t;d(a.value),w(r.value),y(g.value),!s.value&&!f.value&&!v.value&&a.value&&r.value&&g.value&&(x.value=l.createUser({firstName:a.value,lastName:r.value,email:g.value}),(t=l.currentUser)!=null&&t.id&&u.push({name:"Home"}))};return(t,J)=>(c(),o("div",D,[H,P,m("form",{onSubmit:L(I,["prevent"]),class:"mt-6 lg:mt-12 w-80 sm:w-96 p-4 sm:p-0"},[i(b,{onInputChange:d,id:"firstName",label:"First Name",charLimit:127,required:!0,errorMessage:s.value,class:"w-full font-medium text-sm"},null,8,["errorMessage"]),i(b,{onInputChange:w,id:"lastName",label:"Last Name",charLimit:127,required:!0,errorMessage:f.value,class:"mt-6 w-full font-medium text-sm"},null,8,["errorMessage"]),i(b,{onInputChange:y,type:"email",id:"email",label:"Email Address",errorMessage:v.value,charLimit:255,required:!0,class:"mt-6 w-full font-medium text-sm"},null,8,["errorMessage"]),m("div",j,[i(V,{type:"submit",title:"Sign In",class:"mt-10 lg:mt-12 w-full"}),i(E,{name:"fade"},{default:N(()=>[x.value?(c(),o("p",{key:0,class:"absolute w-full top-full mt-2 text-xs text-center font-medium text-red truncate pr-6 text-warning-700",title:x.value,"data-testid":"signInErrorMsg"},p(x.value),9,G)):h("",!0)]),_:1})])],40,R)]))}});export{Q as default};
